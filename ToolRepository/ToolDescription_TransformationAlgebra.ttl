@prefix wf: <http://geographicknowledge.de/vocab/Workflow.rdf#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix tools: <http://geographicknowledge.de/vocab/GISTools.rdf#>.
@prefix ccd: <http://geographicknowledge.de/vocab/CoreConceptData.rdf#>.
@prefix exm: <http://geographicknowledge.de/vocab/ExtensiveMeasures.rdf#>.


##from example AmountsObjectsUtrecht

#### Select layer by attribute
tools:FullSelectLayerByAttribute tools:implements tools:SelectLayerByAttributeObjects, tools:SelectFeaturesContourToExistenceVector,tools:SelectFeaturesCoverageToExistenceVector;
    rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/select-layer-by-attribute.htm> ;
    rdf:rest ( <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/copy-features.htm> ) ;
    rdfs:label "a SQL query to select features matching a selection criteria.You build a query expression to generate the subset. You can query a dataset based on a field in a layer or a table. Using this selection a new Feature dataset is created with only the selected features using the Copy Features tool. This feature dataset represents all the area's that denounce the presence of a certain criteria".
#### Select by attribute is always followed by copy features (treated as one tool in the annotation

#### Object selection variant, needs a nominal attribute
tools:SelectLayerByAttributeObjects    
	wf:input1 [ a ccd:ObjectVector, ccd:NominalA ];
    wf:output [ a ccd:ObjectVector ];
    tools:algebraexpression	"sigmae objectregions x object y".

#### Contour to Existence Vector
tools:SelectFeaturesContourToExistenceVector 
    wf:input1 [ a ccd:Contour ];
    wf:output [ a ccd:ExistenceVector ];
    tools:algebraexpression	"sigmale contour x ordinal y".

#### Coverage to Existence Vector

tools:SelectFeaturesCoverageToExistenceVector 
    wf:input1 [ a ccd:Coverage ];
    wf:output [ a ccd:ExistenceVector ];
    tools:algebraexpression	"sigmae amountpatches x nominal y".
    
    
#### Select layer by location
tools:FullSelectLayerByLocation tools:implements tools:SelectLayerByLocationObjects;
rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/select-layer-by-location.htm> ;
    rdf:rest ( <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/copy-features.htm> ) .   
    
tools:SelectLayerByLocationObjects     
	wf:input1 [ a ccd:ObjectVector ];
	wf:input2 [ a ccd:ObjectVector ];
    wf:output [ a ccd:ObjectVector ];
    tools:algebraexpression	"bowtie objectregions x pi1 sigmae otopo objectregions x objectregions y in".
    

#### Spatial join

######### Spatial join with sum rule
# with JOIN_ONE_TO_ONE parameter, with Merge_RULe sum for Ratio data.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinSumTessRatio.
tools:SpatialJoinSumTessRatio rdfs:label "Sums the attributes at ratio measurement level from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector, ccd:RatioA, exm:ERA ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:RatioA, exm:ERA ];
    tools:algebraexpression	"groupby_sum bowtie* sigmae otopo objectregions x objectregions y in objects z".

# with JOIN_ONE_TO_ONE parameter, with Merge_RULe sum for Count data.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinSumTessCount.
tools:SpatialJoinSumTessCount rdfs:label "Sums the attributes at Count measurement level from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector, ccd:CountA, exm:ERA ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:CountA, exm:ERA ];
    tools:algebraexpression	"groupby_sum bowtie* sigmae otopo objectregions x objectregions y in objectcounts z".

#### spatial join with mean rule
# with JOIN_ONE_TO_ONE parameter, with Merge_RULe mean for interval data.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinMeanTessInterval.
tools:SpatialJoinMeanTessInterval rdfs:label "Averages the attributes at interval measurement level from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector, ccd:IntervalA ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:IntervalA ];
    tools:algebraexpression	"groupby_avg bowtie* sigmae otopo objectregions x objectregions y in objects z".
    
# with JOIN_ONE_TO_ONE parameter, with Merge_RULe mean for Ratio data.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinMeanTessRatio.
tools:SpatialJoinMeanTessRatio rdfs:label "Averages the attributes at Ratio measurement level from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector, ccd:RatioA ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:RatioA ];
    tools:algebraexpression	"groupby_avg bowtie* sigmae otopo objectregions x objectregions y in objects z".

# with JOIN_ONE_TO_ONE parameter, with Merge_RULe mean for Count data.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinMeanTessCount.
tools:SpatialJoinMeanTessCount rdfs:label "Averages the attributes at Count measurement level from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector, ccd:CountA, exm:ERA ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:CountA, exm:ERA ];
    tools:algebraexpression	"groupby_avg bowtie* sigmae otopo objectregions x objectregions y in objectcounts z".
    
#### spatial join with the count rule
# with JOIN_ONE_TO_ONE parameter and with Merge_RULe count.
<https://pro.arcgis.com/en/pro-app/tool-reference/analysis/spatial-join.htm> tools:implements tools:SpatialJoinCountTess.
tools:SpatialJoinCountTess rdfs:label "Counts the number of features from one feature to another based on the spatial relation";
    wf:input1 [ a ccd:ObjectVector ];
    wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:CountA, exm:ERA ];
    tools:algebraexpression	"groupby_count sigmae otopo objectregions x objectregions y in".


#Noise proportion amsterdam

#<https://pro.arcgis.com/en/pro-app/tool-reference/conversion/polygon-to-raster.htm>
###Field Polygon to raster
<https://pro.arcgis.com/en/pro-app/tool-reference/conversion/polygon-to-raster.htm> tools:implements tools:CoverageToNominalFieldRaster.
tools:CoverageToNominalFieldRaster rdfs:label "Converts Field polygons to nominal field Rasters";
    wf:input1 [ a ccd:Coverage, ccd:NominalA ];
    wf:output [ a ccd:FieldRaster, ccd:NominalA ];
    tools:algebraexpression	"revert amountpatches x".


<https://pro.arcgis.com/en/pro-app/tool-reference/conversion/polygon-to-raster.htm> tools:implements tools:ContourToFieldRaster.
tools:ContourToFieldRaster rdfs:label "Converts contour maps to field Rasters";
    wf:input1 [ a ccd:Contour ];
    wf:output [ a ccd:FieldRaster, ccd:OrdinalA ];
    tools:algebraexpression	"revert contour x".
    
#<https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/raster-calculator.htm>  

### local map algebra with only a single input layer
<https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/raster-calculator.htm> tools:implements tools:LocalMapAlgebraSubOrder.
tools:LocalMapAlgebraSubOrder rdfs:label "Builds and executes a Local Map Algebra expression (smaller than or greater than some number) using Python syntax using rasters with an ordinal level";
    wf:input1 [ a ccd:FieldRaster, ccd:OrdinalA ];    
    wf:output [ a ccd:FieldRaster, ccd:BooleanA ];
   tools:algebraexpression "sigmale field x ordinal y".

tools:RasterToContour tools:implements tools:RasterToContourInterval ;
    rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/reclassify.htm> ;
    rdf:rest ( <https://pro.arcgis.com/en/pro-app/tool-reference/conversion/raster-to-polygon.htm> ) .

tools:RasterToContourInterval rdfs:label "Converts a field raster to a Contour dataset. The raster is first reclassified to an ordinal raster, and then converted to a polygon layer.";
    wf:input1 [ a ccd:FieldRaster, ccd:IntervalA ];
    wf:output [ a ccd:Contour, ccd:OrdinalA ];
    tools:algebraexpression "invert field x".

#<https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/zonal-statistics-as-table.htm>+<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/join-field.htm>

tools:ZonalStatistics tools:implements tools:ZonalStatisticsSize, tools:ZonalStatisticsMeanInterval ;
    rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/zonal-statistics-as-table.htm> ;
    rdf:rest ( <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/join-field.htm> ) .
    
tools:ZonalStatisticsSize rdfs:label "Measures the size of a given field raster inside object regions.";
	wf:input1 [ a ccd:FieldRaster ];
	wf:input2 [ a ccd:Lattice, ccd:VectorA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:RatioA ];
tools:algebraexpression "groupby_size sigmae lotopo pi1 field x objectregions y in". 

#<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/add-geometry-attributes.htm>
<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/add-geometry-attributes.htm> tools:implements tools:AddArea.
tools:AddArea rdfs:label "Adds an area attribute to an object layer.";
wf:input1 [ a  ccd:ObjectVector ];
wf:output [ a ccd:ObjectVector, ccd:RatioA];
tools:algebraexpression "groupby_size sigmae lotopo deify merge pi2 objectregions x objectregions x in".


#<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/calculate-field.htm>
<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/calculate-field.htm> tools:implements tools:CalculateRatio.
tools:CalculateRatio rdfs:label "Calculates a ratio of two ratio scaled object attributes.";
wf:input1 [ a  ccd:ObjectVector, ccd:RatioA ];
wf:input2 [ a  ccd:ObjectVector, ccd:RatioA ];
wf:output [ a ccd:ObjectVector, ccd:RatioA];
tools:algebraexpression "bowtie_ratio objects x objects y".


##from example FieldAmountUtrecht

tools:MakeLayerFromTable tools:implements tools:MakePointMeasuresFromTable ;
    rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/make-xy-event-layer.htm> ;
    rdf:rest ( 
    	rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/project.htm>
    	rdf:rest (
    		rdf:first <https://pro.arcgis.com/en/pro-app/tool-reference/data-management/join-field.htm>
    		rdf:rest (<https://pro.arcgis.com/en/pro-app/tool-reference/conversion/excel-to-table.htm>)
    		)	   
    	)  .
    
tools:MakePointMeasuresFromTable rdfs:label "Makes a layer of pointmeasures from some XY table.";
wf:input1 [ a  ccd:PointMeasures, ccd:IntervalA ];
wf:output [ a  ccd:PointMeasures, ccd:IntervalA ];
tools:algebraexpression "pointmeasures x" .


<https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/idw.htm> tools:implements tools:IDWInterval. 
tools:IDWInterval rdfs:label "Standard point interpolation for interval measurements.";
    wf:input1 [ a ccd:PointMeasures, ccd:IntervalA ];
    wf:output [ a ccd:FieldRaster, ccd:IntervalA ];
tools:algebraexpression "interpol pointmeasures x deify merge pi2 objectregions y".

<https://pro.arcgis.com/en/pro-app/tool-reference/spatial-analyst/kriging.htm> tools:implements tools:KrigingInterval. 
tools:KrigingInterval rdfs:label "Kriging point interpolation for interval measurements.";
    wf:input1 [ a ccd:PointMeasures, ccd:IntervalA ];
    wf:output [ a ccd:FieldRaster, ccd:IntervalA ];
tools:algebraexpression "interpol pointmeasures x deify merge pi2 objectregions y".

#Zonal Statistics
tools:ZonalStatisticsMeanInterval  rdfs:label "Calculates the average value for values with a Interval measurement level of a raster within the zones of another dataset, a zone is defined as all areas in the input that have the same value. The areas do not have to be contiguous. Both raster and feature datasets can be used for the zone input.";
    wf:input1 [ a ccd:Lattice, ccd:VectorA ];
    wf:input2 [ a ccd:FieldRaster, ccd:IntervalA ];
    wf:output [ a ccd:Lattice, ccd:VectorA, ccd:IntervalA ];
    tools:algebraexpression "groupby_avg bowtie* sigmae lotopo pi1 field x objectregions y in field x".


#From example Noise portion

<https://pro.arcgis.com/en/pro-app/tool-reference/data-management/clip.htm> tools:implements tools:ClipField2ObjectExtent.
tools:ClipField2ObjectExtent rdfs:label "Clips some field raster to the extent of an object layer.";
    wf:input1 [ a ccd:FieldRaster, ccd:IntervalA ];
    wf:input2 [ a ccd:ObjectVector ];
    wf:output [ a ccd:FieldRaster, ccd:IntervalA];
    tools:algebraexpression "bowtie field x deify merge pi2 objectregions x".
    
<https://pro.arcgis.com/en/pro-app/tool-reference/conversion/raster-to-polygon.htm> tools:implements tools:RegionFromRasterExtent.
tools:RegionFromRasterExtent rdfs:label "Make a region layer from the extent of a raster.";
    wf:input1 [ a ccd:FieldRaster ];    
    wf:output [ a ccd:VectorRegionA ];
    tools:algebraexpression "reify pi1 field x".

    
    
   